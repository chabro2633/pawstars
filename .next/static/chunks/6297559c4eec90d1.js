(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37726,a=>{"use strict";a.s(["loadDogInfo",()=>i,"saveDogInfo",()=>s]);let e="pawstars_dog_info";function s(a){try{let s=encodeURIComponent(JSON.stringify(a)),i=new Date;i.setDate(i.getDate()+30),document.cookie="".concat(e,"=").concat(s,"; expires=").concat(i.toUTCString(),"; path=/; SameSite=Lax")}catch(a){console.error("강아지 정보 저장 실패:",a)}}function i(){try{let a=document.cookie.split(";").find(a=>a.trim().startsWith("".concat(e,"=")));if(!a)return null;let s=a.split("=")[1],i=decodeURIComponent(s),l=JSON.parse(i);if(l.name&&l.breed&&l.sex&&l.birthYear&&l.birthMonth&&l.birthDay)return l;return null}catch(a){return console.error("강아지 정보 불러오기 실패:",a),null}}},33113,a=>{"use strict";a.s(["default",()=>t]);var e=a.i(43476),s=a.i(71645),i=a.i(18566),l=a.i(37726);let r=["말티즈","푸들","포메라니안","시추","비숑 프리제","요크셔테리어","치와와","닥스훈트","미니핀","스피츠","코커스패니얼","프렌치불독","퍼그","보스턴테리어","미니어처슈나우저","웰시코기 펨브로크","웰시코기 카디건","골든리트리버","래브라도리트리버","보더콜리","사모예드","시베리안허스키","알래스칸말라뮤트","저먼셰퍼드","도베르만","로트와일러","불마스티프","그레이트데인","세인트버나드","뉴펀들랜드","달마시안","아프간하운드","그레이하운드","이탈리안그레이하운드","휘핏","아키타","시바견","진돗개","풍산개","차우차우","불테리어","스태퍼드셔불테리어","아메리칸불독","잉글리시불독","복서","마스티프","케인코르소","프레사카나리오","도고아르헨티노","불독","아메리칸핏불테리어"];function t(){let a=(0,i.useRouter)(),[t,m]=(0,s.useState)(1),[c,n]=(0,s.useState)(!1),[o,d]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[g,u]=(0,s.useState)("male"),[x,j]=(0,s.useState)(""),[p,N]=(0,s.useState)(""),[v,b]=(0,s.useState)(""),[y,S]=(0,s.useState)(""),[C,w]=(0,s.useState)(""),[D,I]=(0,s.useState)(""),[k,A]=(0,s.useState)(""),[O,T]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let a=(0,l.loadDogInfo)();a&&(d(a.name),h(a.breed),u(a.sex),j(a.birthYear),N(a.birthMonth),b(a.birthDay))},[]);let R=r.filter(a=>a.toLowerCase().includes(k.toLowerCase())),U=a=>{h(a),A(""),T(!1)},J=a=>{switch(a){case 1:return""!==o.trim()&&""!==f.trim();case 2:case 3:return!0;default:return!1}},M=async()=>{if(!J(1))return void alert("필수 정보를 입력해주세요.");let e={name:o.trim(),breed:f.trim(),sex:g,birthYear:x,birthMonth:p,birthDay:v};(0,l.saveDogInfo)(e),n(!0);try{let e=x&&p&&v?"".concat(x,"-").concat(p.padStart(2,"0"),"-").concat(v.padStart(2,"0")):null,s=await fetch("/api/fortune",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:o.trim(),breed:f.trim(),sex:g,birthDate:e,personality:y,favoriteActivity:C,healthCondition:D})});if(s.ok){let i=await s.json(),l=Date.now().toString();localStorage.setItem("fortune_".concat(l),JSON.stringify({type:"fortune",data:{name:o.trim(),breed:f.trim(),sex:g,birthDate:e,personality:y,favoriteActivity:C,healthCondition:D,fortune:i.fortune||"AI가 생성한 운세 정보",saju:i.saju||"AI가 생성한 사주 정보"},timestamp:new Date().toISOString()})),a.push("/new-results?highlight=fortune_".concat(l))}else{let a=await s.json();alert("오류가 발생했습니다: ".concat(a.error||"알 수 없는 오류"))}}catch(a){console.error("Error:",a),alert("네트워크 오류가 발생했습니다.")}finally{n(!1)}};return(0,e.jsx)("div",{className:"figma-fortune-container",children:(0,e.jsxs)("div",{className:"figma-fortune-frame",children:[(0,e.jsxs)("div",{className:"figma-fortune-header",children:[(0,e.jsx)("h1",{className:"figma-fortune-title",children:"🐕 강아지 삼주"}),(0,e.jsx)("p",{className:"figma-fortune-subtitle",children:"강아지의 사주와 운세를 알아보세요"}),(0,e.jsxs)("div",{className:"figma-progress-container",children:[(0,e.jsx)("div",{className:"figma-progress-bar",children:(0,e.jsx)("div",{className:"figma-progress-fill",style:{width:"".concat(t/3*100,"%")}})}),(0,e.jsxs)("div",{className:"figma-progress-text",children:[t,"단계 / 3단계"]})]})]}),(0,e.jsxs)("div",{className:"figma-fortune-form",children:[1===t&&(0,e.jsxs)("div",{className:"figma-step-container",children:[(0,e.jsxs)("div",{className:"figma-step-header",children:[(0,e.jsx)("h2",{className:"figma-step-title",children:"1단계: 기본 정보"}),(0,e.jsx)("p",{className:"figma-step-subtitle",children:"강아지의 기본 정보를 입력해주세요"})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"이름과 견종"}),(0,e.jsxs)("div",{className:"figma-form-group",children:[(0,e.jsx)("label",{className:"figma-form-label",children:"강아지 이름 *"}),(0,e.jsx)("input",{type:"text",value:o,onChange:a=>d(a.target.value),placeholder:"예: 뭉치, 초코, 별이",className:"figma-form-input"})]}),(0,e.jsxs)("div",{className:"figma-form-group",children:[(0,e.jsx)("label",{className:"figma-form-label",children:"견종 *"}),(0,e.jsxs)("div",{className:"figma-breed-selector",children:[(0,e.jsx)("input",{type:"text",value:f||k,onChange:a=>{A(a.target.value),h(""),T(!0)},onFocus:()=>T(!0),placeholder:"견종을 검색하거나 선택하세요",className:"figma-form-input"}),O&&k&&(0,e.jsx)("div",{className:"figma-breed-dropdown",children:R.slice(0,10).map(a=>(0,e.jsx)("div",{className:"figma-breed-option",onClick:()=>U(a),children:a},a))}),(0,e.jsx)("div",{className:"figma-breed-scroll",children:r.slice(0,20).map(a=>(0,e.jsx)("button",{type:"button",onClick:()=>U(a),className:"figma-breed-chip ".concat(f===a?"active":""),children:a},a))})]})]})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"성별"}),(0,e.jsxs)("div",{className:"figma-radio-group",children:[(0,e.jsxs)("label",{className:"figma-radio-option ".concat("male"===g?"active":""),children:[(0,e.jsx)("input",{type:"radio",name:"sex",value:"male",checked:"male"===g,onChange:a=>u(a.target.value)}),(0,e.jsx)("span",{className:"figma-radio-icon",children:"♂️"}),(0,e.jsx)("span",{className:"figma-radio-text",children:"수컷"})]}),(0,e.jsxs)("label",{className:"figma-radio-option ".concat("female"===g?"active":""),children:[(0,e.jsx)("input",{type:"radio",name:"sex",value:"female",checked:"female"===g,onChange:a=>u(a.target.value)}),(0,e.jsx)("span",{className:"figma-radio-icon",children:"♀️"}),(0,e.jsx)("span",{className:"figma-radio-text",children:"암컷"})]})]})]})]}),2===t&&(0,e.jsxs)("div",{className:"figma-step-container",children:[(0,e.jsxs)("div",{className:"figma-step-header",children:[(0,e.jsx)("h2",{className:"figma-step-title",children:"2단계: 상세 정보"}),(0,e.jsx)("p",{className:"figma-step-subtitle",children:"더 정확한 분석을 위한 추가 정보 (선택사항)"})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"생년월일"}),(0,e.jsxs)("div",{className:"figma-date-group",children:[(0,e.jsxs)("select",{value:x,onChange:a=>j(a.target.value),className:"figma-form-select",children:[(0,e.jsx)("option",{value:"",children:"년도"}),Array.from({length:25},(a,e)=>2024-e).map(a=>(0,e.jsxs)("option",{value:a,children:[a,"년"]},a))]}),(0,e.jsxs)("select",{value:p,onChange:a=>N(a.target.value),className:"figma-form-select",children:[(0,e.jsx)("option",{value:"",children:"월"}),Array.from({length:12},(a,e)=>e+1).map(a=>(0,e.jsxs)("option",{value:a,children:[a,"월"]},a))]}),(0,e.jsxs)("select",{value:v,onChange:a=>b(a.target.value),className:"figma-form-select",children:[(0,e.jsx)("option",{value:"",children:"일"}),Array.from({length:31},(a,e)=>e+1).map(a=>(0,e.jsxs)("option",{value:a,children:[a,"일"]},a))]})]}),(0,e.jsx)("p",{className:"figma-form-note",children:"생년월일을 모르는 경우 비워두셔도 됩니다"})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"성격"}),(0,e.jsxs)("div",{className:"figma-form-group",children:[(0,e.jsx)("label",{className:"figma-form-label",children:"강아지의 성격은 어떤가요?"}),(0,e.jsx)("textarea",{value:y,onChange:a=>S(a.target.value),placeholder:"예: 활발하고 사람을 좋아해요. 다른 강아지들과도 잘 어울려요.",className:"figma-form-textarea",rows:3})]})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"좋아하는 활동"}),(0,e.jsxs)("div",{className:"figma-form-group",children:[(0,e.jsx)("label",{className:"figma-form-label",children:"어떤 활동을 가장 좋아하나요?"}),(0,e.jsx)("input",{type:"text",value:C,onChange:a=>w(a.target.value),placeholder:"예: 산책, 공놀이, 수영, 간식 먹기",className:"figma-form-input"})]})]})]}),3===t&&(0,e.jsxs)("div",{className:"figma-step-container",children:[(0,e.jsxs)("div",{className:"figma-step-header",children:[(0,e.jsx)("h2",{className:"figma-step-title",children:"3단계: 정보 확인"}),(0,e.jsx)("p",{className:"figma-step-subtitle",children:"입력하신 정보를 확인하고 분석을 시작하세요"})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"입력 정보 요약"}),(0,e.jsxs)("div",{className:"figma-summary-grid",children:[(0,e.jsxs)("div",{className:"figma-summary-item",children:[(0,e.jsx)("span",{className:"figma-summary-label",children:"이름:"}),(0,e.jsx)("span",{className:"figma-summary-value",children:o})]}),(0,e.jsxs)("div",{className:"figma-summary-item",children:[(0,e.jsx)("span",{className:"figma-summary-label",children:"견종:"}),(0,e.jsx)("span",{className:"figma-summary-value",children:f})]}),(0,e.jsxs)("div",{className:"figma-summary-item",children:[(0,e.jsx)("span",{className:"figma-summary-label",children:"성별:"}),(0,e.jsx)("span",{className:"figma-summary-value",children:"male"===g?"수컷":"암컷"})]}),x&&p&&v&&(0,e.jsxs)("div",{className:"figma-summary-item",children:[(0,e.jsx)("span",{className:"figma-summary-label",children:"생년월일:"}),(0,e.jsxs)("span",{className:"figma-summary-value",children:[x,"년 ",p,"월 ",v,"일"]})]}),y&&(0,e.jsxs)("div",{className:"figma-summary-item",children:[(0,e.jsx)("span",{className:"figma-summary-label",children:"성격:"}),(0,e.jsx)("span",{className:"figma-summary-value",children:y})]}),C&&(0,e.jsxs)("div",{className:"figma-summary-item",children:[(0,e.jsx)("span",{className:"figma-summary-label",children:"좋아하는 활동:"}),(0,e.jsx)("span",{className:"figma-summary-value",children:C})]})]})]}),(0,e.jsxs)("div",{className:"figma-form-card",children:[(0,e.jsx)("h3",{className:"figma-form-card-title",children:"건강 상태 (선택사항)"}),(0,e.jsxs)("div",{className:"figma-form-group",children:[(0,e.jsx)("label",{className:"figma-form-label",children:"특별한 건강 상태나 주의사항이 있나요?"}),(0,e.jsx)("textarea",{value:D,onChange:a=>I(a.target.value),placeholder:"예: 알레르기, 관절 문제, 특별한 식단 등",className:"figma-form-textarea",rows:2})]})]})]})]}),(0,e.jsx)("div",{className:"figma-navigation-section",children:(0,e.jsxs)("div",{className:"figma-nav-buttons",children:[t>1&&(0,e.jsx)("button",{onClick:()=>{m(a=>Math.max(a-1,1))},className:"figma-secondary-button",children:"← 이전"}),t<3?(0,e.jsx)("button",{onClick:()=>{J(t)?m(a=>Math.min(a+1,3)):alert("필수 정보를 입력해주세요.")},className:"figma-primary-button",disabled:!J(t),children:"다음 →"}):(0,e.jsx)("button",{onClick:M,disabled:c,className:"figma-submit-button ".concat(c?"loading":""),children:c?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"figma-spinner"}),"AI가 분석 중입니다..."]}):"🔮 삼주 분석 시작"})]})})]})})}}]);
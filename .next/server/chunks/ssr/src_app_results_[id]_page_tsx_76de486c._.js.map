{"version":3,"sources":["turbopack:///[project]/src/app/results/[id]/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter, useParams } from \"next/navigation\";\n\ntype FortuneData = {\n  type: 'fortune';\n  name: string;\n  breed: string;\n  sex: string;\n  birthDate: string;\n  fortune: string;\n  saju?: string;\n};\n\ntype CompatibilityData = {\n  type: 'compatibility';\n  dogName: string;\n  breed: string;\n  sex: string;\n  birthDate: string;\n  ownerName: string;\n  ownerBirthDate: string;\n  ownerBirthTime: string;\n  ownerEB: string;\n  compatibility: string;\n};\n\ntype ResultData = FortuneData | CompatibilityData;\n\nexport default function ResultDetailPage() {\n  const params = useParams();\n  const router = useRouter();\n  const [resultData, setResultData] = useState<ResultData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const id = params.id as string;\n    if (!id) {\n      setError('ÏûòÎ™ªÎêú Í≤∞Í≥º IDÏûÖÎãàÎã§.');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const stored = localStorage.getItem(`pawstars_result_${id}`);\n      if (!stored) {\n        setError('Í≤∞Í≥ºÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§. Í≤∞Í≥ºÍ∞Ä ÎßåÎ£åÎêòÏóàÍ±∞ÎÇò ÏÇ≠Ï†úÎêòÏóàÏùÑ Ïàò ÏûàÏäµÎãàÎã§.');\n        setLoading(false);\n        return;\n      }\n\n      const data = JSON.parse(stored) as ResultData;\n      setResultData(data);\n    } catch {\n      setError('Í≤∞Í≥ºÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.');\n    } finally {\n      setLoading(false);\n    }\n  }, [params.id]);\n\n  const share = async () => {\n    if (!resultData) return;\n\n    let text = `üê∂ PawStars Í≤∞Í≥º\\n`;\n    \n    if (resultData.type === 'fortune') {\n      text += `Ïù¥Î¶Ñ: ${resultData.name}\\nÍ≤¨Ï¢Ö: ${resultData.breed}\\n`;\n      if (resultData.birthDate !== 'unknown') text += `ÏÉùÏùº: ${resultData.birthDate}\\n`;\n      text += `ÏÑ±Î≥Ñ: ${resultData.sex === 'male' ? 'ÏàòÏª∑' : 'ÏïîÏª∑'}\\n\\n`;\n      text += `üîÆ Ïò§ÎäòÏùò Ïö¥ÏÑ∏:\\n${resultData.fortune}`;\n    } else {\n      text += `Í∞ïÏïÑÏßÄ: ${resultData.dogName} (${resultData.breed})\\n`;\n      text += `Í≤¨Ï£º: ${resultData.ownerName}\\n`;\n      text += `12ÏßÄÏßÄ: ${resultData.ownerEB}\\n\\n`;\n      text += `üíï Í∂ÅÌï© Î∂ÑÏÑù:\\n${resultData.compatibility}`;\n    }\n\n    try {\n      // Try KakaoTalk first\n      const w = globalThis as {\n        Kakao?: { \n          isInitialized?: () => boolean; \n          Share: { \n            sendDefault: (opts: { objectType: string; text: string; link: { mobileWebUrl: string; webUrl: string } }) => void \n          } \n        };\n      };\n      if (w?.Kakao && w.Kakao.isInitialized?.()) {\n        w.Kakao.Share.sendDefault({\n          objectType: \"text\",\n          text,\n          link: { mobileWebUrl: location.href, webUrl: location.href }\n        });\n        return;\n      }\n      \n      // Try Web Share API\n      if (navigator.share) {\n        await navigator.share({ title: \"PawStars Í≤∞Í≥º\", text });\n        return;\n      }\n      \n      // Fallback to clipboard\n      await navigator.clipboard.writeText(text);\n      alert(\"Í≤∞Í≥ºÎ•º ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÌñàÏñ¥Ïöî.\");\n    } catch {\n      try {\n        await navigator.clipboard.writeText(text);\n        alert(\"Í≤∞Í≥ºÎ•º ÌÅ¥Î¶ΩÎ≥¥ÎìúÏóê Î≥µÏÇ¨ÌñàÏñ¥Ïöî.\");\n      } catch {\n        alert(\"Í≥µÏú†Ïóê Ïã§Ìå®ÌñàÏñ¥Ïöî. Îã§Ïãú ÏãúÎèÑÌï¥ Ï£ºÏÑ∏Ïöî.\");\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-black text-white flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-2xl mb-2\">üîÆ</div>\n          <div>Í≤∞Í≥ºÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>\n        </div>\n      </div>\n    );\n  }\n\n  if (error || !resultData) {\n    return (\n      <div className=\"min-h-screen bg-black text-white\">\n        <div className=\"max-w-md mx-auto px-4 py-8\">\n          <div className=\"text-center py-12\">\n            <div className=\"text-4xl mb-4\">üòï</div>\n            <h1 className=\"text-xl font-bold mb-4\">Í≤∞Í≥ºÎ•º Ï∞æÏùÑ Ïàò ÏóÜÏñ¥Ïöî</h1>\n            <p className=\"text-white/60 mb-6\">{error}</p>\n            <div className=\"flex flex-col gap-3\">\n              <button\n                onClick={() => router.push('/results')}\n                className=\"w-full bg-white text-black py-3 px-6 rounded-lg font-medium hover:bg-white/90 transition-colors\"\n              >\n                Í≤∞Í≥º ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô\n              </button>\n              <button\n                onClick={() => router.push('/')}\n                className=\"w-full bg-white/10 text-white py-3 px-6 rounded-lg font-medium hover:bg-white/20 transition-colors border border-white/20\"\n              >\n                ÌôàÏúºÎ°ú Ïù¥Îèô\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-black text-white\">\n      <div className=\"max-w-md mx-auto px-4 py-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-2xl font-bold mb-2\">\n            {resultData.type === 'fortune' ? 'üîÆ Í∞ïÏïÑÏßÄ ÏÇºÏ£º' : 'üíï Í≤¨Ï£º Í∂ÅÌï©'}\n          </h1>\n          <p className=\"text-white/60\">\n            {resultData.type === 'fortune' \n              ? `${resultData.name}Ïùò Î∂ÑÏÑù Í≤∞Í≥º`\n              : `${resultData.dogName} √ó ${resultData.ownerName} Í∂ÅÌï©`\n            }\n          </p>\n        </div>\n\n        <div className=\"space-y-6\">\n          {/* Result Content */}\n          <div className=\"bg-white/5 rounded-lg border border-white/10 p-6\">\n            {resultData.type === 'fortune' ? (\n              <div>\n                <div className=\"mb-4 pb-4 border-b border-white/10\">\n                  <div className=\"text-sm text-white/60 space-y-1\">\n                    <div>Ïù¥Î¶Ñ: {resultData.name}</div>\n                    <div>Í≤¨Ï¢Ö: {resultData.breed}</div>\n                    <div>ÏÑ±Î≥Ñ: {resultData.sex === 'male' ? 'ÏàòÏª∑' : 'ÏïîÏª∑'}</div>\n                    {resultData.birthDate !== 'unknown' && (\n                      <div>ÏÉùÏùº: {resultData.birthDate}</div>\n                    )}\n                  </div>\n                </div>\n                <div className=\"whitespace-pre-wrap text-white/90 leading-relaxed\">\n                  {resultData.fortune}\n                </div>\n                {resultData.saju && (\n                  <div className=\"mt-6 pt-4 border-t border-white/10\">\n                    <div className=\"text-sm font-medium text-white/80 mb-3\">ÏÇ¨Ï£º Î∂ÑÏÑù</div>\n                    <div className=\"whitespace-pre-wrap text-white/90 leading-relaxed\">\n                      {resultData.saju}\n                    </div>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div>\n                <div className=\"mb-4 pb-4 border-b border-white/10\">\n                  <div className=\"text-sm text-white/60 space-y-1\">\n                    <div>Í∞ïÏïÑÏßÄ: {resultData.dogName} ({resultData.breed})</div>\n                    <div>Í≤¨Ï£º: {resultData.ownerName}</div>\n                    <div>12ÏßÄÏßÄ: {resultData.ownerEB}</div>\n                  </div>\n                </div>\n                <div className=\"whitespace-pre-wrap text-white/90 leading-relaxed\">\n                  {resultData.compatibility}\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex flex-col gap-3\">\n            <button\n              onClick={share}\n              className=\"w-full bg-white text-black py-3 px-6 rounded-lg font-medium hover:bg-white/90 transition-colors\"\n            >\n              üì§ Í≤∞Í≥º Í≥µÏú†ÌïòÍ∏∞\n            </button>\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => router.push('/results')}\n                className=\"flex-1 bg-white/10 text-white py-3 px-6 rounded-lg font-medium hover:bg-white/20 transition-colors border border-white/20\"\n              >\n                Í≤∞Í≥º Î™©Î°ù\n              </button>\n              <button\n                onClick={() => router.push(resultData.type === 'fortune' ? '/fortune' : '/compatibility')}\n                className=\"flex-1 bg-white/10 text-white py-3 px-6 rounded-lg font-medium hover:bg-white/20 transition-colors border border-white/20\"\n              >\n                Îã§Ïãú Î∂ÑÏÑù\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
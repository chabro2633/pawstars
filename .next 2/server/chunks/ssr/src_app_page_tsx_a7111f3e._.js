module.exports=[40777,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131);let d=["말티즈","푸들","포메라니안","시추","비숑 프리제","요크셔테리어","치와와","닥스훈트","미니핀","스피츠","코커스패니얼","프렌치불독","퍼그","보스턴테리어","미니어처슈나우저","웰시코기 펨브로크","웰시코기 카디건","골든리트리버","래브라도리트리버","보더콜리","사모예드","시베리안허스키","알래스칸말라뮤트","저먼셰퍼드","도베르만","로트와일러","불마스티프","그레이트데인","세인트버나드","뉴펀들랜드","달마시안","아프간하운드","그레이하운드","이탈리안그레이하운드","휘핏","아키타","시바견","진돗개","풍산개","차우차우","불테리어","폭스테리어","잭러셀테리어","파슨러셀테리어","스코티시테리어","웨스트하이랜드화이트테리어","아이리시테리어","케언테리어","노퍽테리어","노리치테리어","베들링턴테리어","실리엄테리어","에어데일테리어","와이어폭스테리어","소프트코티드휘튼테리어","티베탄테리어","라사압소","페키니즈","차이니즈크레스티드","시체드 (시추+비숑)","코통드툴레아르","하바니즈","파피용","필라브라질레이로","카네코르소","보르도마스티프","티베탄마스티프","프레사카나리오","도고아르헨티노","벨지안말리노이즈","벨지안테뷰런","벨지안쉬펜도스","벨지안라케노이즈","올드잉글리시쉽독","셰틀랜드쉽독","버니즈마운틴독","그레이트피레니즈","레온베르거","아이리시세터","고든세터","잉글리시세터","브리타니스패니얼","아이리시워터스패니얼","스프링어스패니얼","클럼버스패니얼","필드스패니얼","서세스스패니얼","포인터","비즐라","와이마라너","로디지안리지백","바셋하운드","블러드하운드","비글","해리어","바셋포브드브르타뉴","노르웨이엘크하운드","핀란드스피츠","케이스혼트","노바스코샤덕톨링리트리버","말티푸 (말티즈 + 푸들)","포메푸 (포메라니안 + 푸들)","비숑푸 (비숑 프리제 + 푸들)","요푸 (요크셔테리어 + 푸들)","시푸 (시추 + 푸들)","말티츄 (말티즈 + 시추)","치비 (치와와 + 비숑)","치푸 (치와와 + 푸들)","코기푸 (웰시코기 + 푸들)","스피푸 (스피츠 + 푸들)","푸블리 (푸들 + 불독)","슈나푸 (슈나우저 + 푸들)","골든두들 (골든리트리버 + 푸들, 골푸)","래브라두들 (래브라도 + 푸들, 랩푸)","코카푸 (코커스패니얼 + 푸들)","카바푸 (캐벌리어 킹찰스 + 푸들)","시숑 (비숑 + 시추)","믹스"];function e(){let[a,e]=(0,c.useState)(1),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)("unknown"),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),J=(0,c.useMemo)(()=>!(f.trim()&&h.trim())||("unknown"!==l||null===n)&&("unknown"!==l&&null===n||!!p&&!r),[f,h,l,n,p,r]),K=(0,c.useMemo)(()=>{let a=j.trim(),b=d.slice();if(!a)return b.sort((a,b)=>a.localeCompare(b));let c=a.toLowerCase();return b.map(a=>{let b=a.toLowerCase(),d=10;return b===c?d=0:b.startsWith(c)?d=1:b.includes(c)?d=2:b.replace(/\s/g,"").includes(c.replace(/\s/g,""))&&(d=3),{value:a,score:d}}).filter(a=>a.score<10).sort((a,b)=>a.score!==b.score?a.score-b.score:a.value.length!==b.value.length?a.value.length-b.value.length:a.value.localeCompare(b.value)).map(a=>a.value)},[j]),L=(0,c.useCallback)(async()=>{C(!0),E(null),G(null),I(null);try{let a=await fetch("/api/fortune",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:f.trim(),breed:h.trim(),sex:l,neutered:n,birthDate:p?r:null})});if(!a.ok)throw Error(`Request failed: ${a.status}`);let b=await a.json();G(b.fortune)}catch(a){E(a instanceof Error?a.message:"알 수 없는 오류가 발생했어요.")}finally{C(!1)}},[f,h,l,n,p,r]),M=(0,c.useMemo)(()=>!t.trim()||!x||!z,[t,x,z]),N=(0,c.useCallback)((a,b)=>{if(!a||!b)return"";try{let[c,d,e]=a.split("-").map(a=>parseInt(a,10)),[f]=b.split(":").map(a=>parseInt(a,10)),g=["자(子)","축(丑)","인(寅)","묘(卯)","진(辰)","사(巳)","오(午)","미(未)","신(申)","유(酉)","술(戌)","해(亥)"],h=["쥐","소","호랑이","토끼","용","뱀","말","양","원숭이","닭","개","돼지"],i=c;(d<2||2===d&&e<4)&&(i=c-1);let j=((i-4)%12+12)%12,k=`${g[j]}, ${h[j]}`,l=Math.floor((f+1)%24/2)%12,m=`${g[l]}, ${h[l]}`;return`년지: ${k} / 시지: ${m}`}catch{return""}},[]),O=(0,c.useCallback)((a,b)=>{w(N(a,b))},[N]),P=(0,c.useCallback)(async()=>{C(!0),E(null);try{let a=await fetch("/api/compatibility",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dog:{name:f.trim(),breed:h.trim(),sex:l,neutered:n,birthDate:p?r:null},owner:{name:t.trim(),earthlyBranch:v.trim()}})});if(!a.ok)throw Error(`Request failed: ${a.status}`);let b=await a.json();I(b.compatibility),e(3)}catch(a){E(a instanceof Error?a.message:"알 수 없는 오류가 발생했어요.")}finally{C(!1)}},[f,h,l,n,p,r,t,v]),Q=(0,c.useCallback)(a=>{if(a)try{a.scrollIntoView({behavior:"smooth",block:"center"})}catch{}},[]),R=(0,c.useCallback)(async()=>{let a=`🐶 PawStars 일일 운세\xb7궁합
이름: ${f}
견종: ${h}
${p&&r?`생일: ${r}
`:""}${"unknown"!==l?`성별: ${"male"===l?"수컷":"암컷"}${!0===n?" (중성화)":!1===n?" (미중성화)":""}
`:""}${t?`주인: ${t}
`:""}${v?`주인 12지지: ${v}
`:""}${F?`
오늘의 운세: 
${F}
`:""}${H?`
🐾 궁합: 
${H}`:""}`;try{let b=globalThis;if(b?.Kakao&&b.Kakao.isInitialized?.())return void b.Kakao.Share.sendDefault({objectType:"text",text:a,link:{mobileWebUrl:location.href,webUrl:location.href}});if(navigator.share)return void await navigator.share({title:"PawStars 결과",text:a});await navigator.clipboard.writeText(a),alert("결과를 클립보드에 복사했어요.")}catch{try{await navigator.clipboard.writeText(a),alert("결과를 클립보드에 복사했어요.")}catch{alert("공유에 실패했어요. 다시 시도해 주세요.")}}},[f,h,p,r,l,n,F,t,v,H]);return(0,b.jsxs)("div",{className:"min-h-screen w-full max-w-xl mx-auto px-4 py-5 sm:px-6 sm:py-10",children:[(0,b.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-5 sm:mb-6",children:"PawStars 강아지 사주 · 일일 운세/궁합"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-4",children:[(0,b.jsx)("div",{className:"h-2 w-6 rounded-full "+(1===a?"bg-black dark:bg-white":"bg-black/20 dark:bg-white/20")}),(0,b.jsx)("div",{className:"h-2 w-6 rounded-full "+(2===a?"bg-black dark:bg-white":"bg-black/20 dark:bg-white/20")}),(0,b.jsx)("div",{className:"h-2 w-6 rounded-full "+(3===a?"bg-black dark:bg-white":"bg-black/20 dark:bg-white/20")}),(0,b.jsx)("span",{className:"ml-2",children:1===a?"강아지 정보":2===a?"주인 정보":"궁합 결과"})]}),(0,b.jsxs)("div",{className:"space-y-5 sm:space-y-6",children:[1===a?(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"이름"}),(0,b.jsx)("input",{className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",placeholder:"예: 뭉치",value:f,onChange:a=>g(a.target.value),onFocus:a=>Q(a.currentTarget)})]}):null,(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"견종"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("input",{className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",placeholder:"검색 또는 직접 입력 (예: 푸들)",value:j,onChange:a=>{k(a.target.value),i(a.target.value)},onFocus:a=>Q(a.currentTarget)}),(0,b.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1 snap-x snap-mandatory [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:[K.map(a=>{let c=h===a;return(0,b.jsx)("button",{type:"button",onClick:()=>{i(a),k(a)},className:"px-3 py-2 rounded-full border text-sm transition-colors snap-start shrink-0 "+(c?"bg-black text-white dark:bg-white dark:text-black border-transparent":"border-black/10 dark:border-white/20 hover:bg-black/5 dark:hover:bg-white/10"),children:a},a)}),0===K.length?(0,b.jsx)("span",{className:"text-sm text-black/60 dark:text-white/60",children:"검색 결과가 없어요. 직접 입력해주세요."}):null]})]})]}),1===a?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium",children:"성별"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"sex",checked:"male"===l,onChange:()=>m("male")}),"수컷"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"sex",checked:"female"===l,onChange:()=>m("female")}),"암컷"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"sex",checked:"unknown"===l,onChange:()=>m("unknown")}),"모름"]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"neutered",checked:!0===n,onChange:()=>o(!0)}),"중성화"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"neutered",checked:!1===n,onChange:()=>o(!1)}),"미중성화"]}),(0,b.jsxs)("label",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"radio",name:"neutered",checked:null===n,onChange:()=>o(null)}),"모름"]})]})]}):null,1===a?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"생년월일"}),(0,b.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)("input",{type:"checkbox",checked:!p,onChange:a=>q(!a.target.checked)}),"모르면 체크"]})]}),(0,b.jsx)("input",{disabled:!p,type:"date",pattern:"\\d{4}-\\d{2}-\\d{2}",placeholder:"YYYY-MM-DD",className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2 disabled:opacity-50",value:r,onChange:a=>s(a.target.value),onFocus:a=>Q(a.currentTarget),min:"1900-01-01",max:"2030-12-31"}),(0,b.jsx)("p",{className:"text-xs text-black/60 dark:text-white/60 mt-1",children:"년-월-일을 모두 선택해 주세요."})]}):null,2===a?(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"주인 이름"}),(0,b.jsx)("input",{className:"w-full rounded-md border border-black/10 dark:border:white/20 bg-transparent px-3 py-2",placeholder:"예: 홍길동",value:t,onChange:a=>u(a.target.value),onFocus:a=>Q(a.currentTarget)})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"주인 생년월일"}),(0,b.jsx)("input",{type:"date",pattern:"\\d{4}-\\d{2}-\\d{2}",placeholder:"YYYY-MM-DD",className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",value:x,onChange:a=>{let b=a.target.value;y(b),O(b,z)},onFocus:a=>Q(a.currentTarget),min:"1900-01-01",max:"2030-12-31"}),(0,b.jsx)("p",{className:"text-xs text-black/60 dark:text-white/60 mt-1",children:"년-월-일을 모두 선택해 주세요."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"태어난 시간"}),(0,b.jsx)("input",{type:"time",className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",value:z,onChange:a=>{let b=a.target.value;A(b),O(x,b)}}),(0,b.jsx)("p",{className:"text-xs text-black/60 dark:text-white/60 mt-1",children:"입력한 생년월일·시간을 바탕으로 12지지를 자동 계산해요. (근사치)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"도출된 12지지"}),(0,b.jsx)("div",{className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2 text-sm",children:v||"생년월일과 시간을 입력하면 자동으로 표시됩니다."})]})]})]}):null,(0,b.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:1===a?(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3 disabled:opacity-50",onClick:L,disabled:J||B,children:B?"분석 중...":"일일 운세 뽑기"})}):2===a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3 disabled:opacity-50",onClick:P,disabled:M||B,children:B?"분석 중...":"궁합 보기"}),(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:()=>{e(1),G(null)},children:"이전"})]}):null}),D?(0,b.jsx)("div",{className:"text-red-500 text-sm",children:D}):null,F&&1===a?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg border border-black/10 dark:border-white/20 p-4 whitespace-pre-wrap leading-6",children:F}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3",onClick:()=>e(2),children:"궁합 바로가기"}),(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:R,children:"공유하기"}),(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:()=>{e(1),G(null),I(null),g(""),i(""),k(""),m("unknown"),o(null),q(!0),s(""),u(""),y(""),A(""),w("")},children:"다시하기"})]})]}):null,3===a?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg border border-black/10 dark:border-white/20 p-4 whitespace-pre-wrap leading-6",children:H}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("details",{className:"rounded-lg border border-black/10 dark:border-white/20",children:[(0,b.jsx)("summary",{className:"cursor-pointer p-3 font-medium",children:"일일 운세 다시보기"}),(0,b.jsx)("div",{className:"p-3 pt-0 whitespace-pre-wrap leading-6 text-sm",children:F})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3",onClick:()=>{e(1),G(null),I(null),g(""),i(""),k(""),m("unknown"),o(null),q(!0),s(""),u(""),y(""),A(""),w("")},children:"다시 분석하기"}),(0,b.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:R,children:"결과 공유하기"})]})]})]}):null]})]})}}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>s]);var a=e.i(43476),l=e.i(71645);let t=["말티즈","푸들","포메라니안","시추","비숑 프리제","요크셔테리어","치와와","닥스훈트","미니핀","스피츠","코커스패니얼","프렌치불독","퍼그","보스턴테리어","미니어처슈나우저","웰시코기 펨브로크","웰시코기 카디건","골든리트리버","래브라도리트리버","보더콜리","사모예드","시베리안허스키","알래스칸말라뮤트","저먼셰퍼드","도베르만","로트와일러","불마스티프","그레이트데인","세인트버나드","뉴펀들랜드","달마시안","아프간하운드","그레이하운드","이탈리안그레이하운드","휘핏","아키타","시바견","진돗개","풍산개","차우차우","불테리어","폭스테리어","잭러셀테리어","파슨러셀테리어","스코티시테리어","웨스트하이랜드화이트테리어","아이리시테리어","케언테리어","노퍽테리어","노리치테리어","베들링턴테리어","실리엄테리어","에어데일테리어","와이어폭스테리어","소프트코티드휘튼테리어","티베탄테리어","라사압소","페키니즈","차이니즈크레스티드","시체드 (시추+비숑)","코통드툴레아르","하바니즈","파피용","필라브라질레이로","카네코르소","보르도마스티프","티베탄마스티프","프레사카나리오","도고아르헨티노","벨지안말리노이즈","벨지안테뷰런","벨지안쉬펜도스","벨지안라케노이즈","올드잉글리시쉽독","셰틀랜드쉽독","버니즈마운틴독","그레이트피레니즈","레온베르거","아이리시세터","고든세터","잉글리시세터","브리타니스패니얼","아이리시워터스패니얼","스프링어스패니얼","클럼버스패니얼","필드스패니얼","서세스스패니얼","포인터","비즐라","와이마라너","로디지안리지백","바셋하운드","블러드하운드","비글","해리어","바셋포브드브르타뉴","노르웨이엘크하운드","핀란드스피츠","케이스혼트","노바스코샤덕톨링리트리버","말티푸 (말티즈 + 푸들)","포메푸 (포메라니안 + 푸들)","비숑푸 (비숑 프리제 + 푸들)","요푸 (요크셔테리어 + 푸들)","시푸 (시추 + 푸들)","말티츄 (말티즈 + 시추)","치비 (치와와 + 비숑)","치푸 (치와와 + 푸들)","코기푸 (웰시코기 + 푸들)","스피푸 (스피츠 + 푸들)","푸블리 (푸들 + 불독)","슈나푸 (슈나우저 + 푸들)","골든두들 (골든리트리버 + 푸들, 골푸)","래브라두들 (래브라도 + 푸들, 랩푸)","코카푸 (코커스패니얼 + 푸들)","카바푸 (캐벌리어 킹찰스 + 푸들)","시숑 (비숑 + 시추)","믹스"];function s(){let[e,s]=(0,l.useState)(1),[r,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[i,o]=(0,l.useState)(""),[u,m]=(0,l.useState)("unknown"),[b,x]=(0,l.useState)(null),[h,p]=(0,l.useState)(!0),[k,w]=(0,l.useState)(""),[g,j]=(0,l.useState)(""),[f,v]=(0,l.useState)(""),[y,N]=(0,l.useState)(""),[C,S]=(0,l.useState)(""),[T,M]=(0,l.useState)(!1),[Y,D]=(0,l.useState)(null),[F,P]=(0,l.useState)(null),[O,K]=(0,l.useState)(null),E=(0,l.useMemo)(()=>!(r.trim()&&c.trim())||("unknown"!==u||null===b)&&("unknown"!==u&&null===b||!!h&&!k),[r,c,u,b,h,k]),I=(0,l.useMemo)(()=>{let e=i.trim(),a=t.slice();if(!e)return a.sort((e,a)=>e.localeCompare(a));let l=e.toLowerCase();return a.map(e=>{let a=e.toLowerCase(),t=10;return a===l?t=0:a.startsWith(l)?t=1:a.includes(l)?t=2:a.replace(/\s/g,"").includes(l.replace(/\s/g,""))&&(t=3),{value:e,score:t}}).filter(e=>e.score<10).sort((e,a)=>e.score!==a.score?e.score-a.score:e.value.length!==a.value.length?e.value.length-a.value.length:e.value.localeCompare(a.value)).map(e=>e.value)},[i]),R=(0,l.useCallback)(async()=>{M(!0),D(null),P(null),K(null);try{let e=await fetch("/api/fortune",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.trim(),breed:c.trim(),sex:u,neutered:b,birthDate:h?k:null})});if(!e.ok)throw Error("Request failed: ".concat(e.status));let a=await e.json();P(a.fortune)}catch(e){D(e instanceof Error?e.message:"알 수 없는 오류가 발생했어요.")}finally{M(!1)}},[r,c,u,b,h,k]),U=(0,l.useMemo)(()=>!g.trim()||!y||!C,[g,y,C]),B=(0,l.useCallback)((e,a)=>{if(!e||!a)return"";try{let[l,t,s]=e.split("-").map(e=>parseInt(e,10)),[r]=a.split(":").map(e=>parseInt(e,10)),n=["자(子)","축(丑)","인(寅)","묘(卯)","진(辰)","사(巳)","오(午)","미(未)","신(申)","유(酉)","술(戌)","해(亥)"],c=["쥐","소","호랑이","토끼","용","뱀","말","양","원숭이","닭","개","돼지"],d=l;(t<2||2===t&&s<4)&&(d=l-1);let i=((d-4)%12+12)%12,o="".concat(n[i],", ").concat(c[i]),u=Math.floor((r+1)%24/2)%12,m="".concat(n[u],", ").concat(c[u]);return"년지: ".concat(o," / 시지: ").concat(m)}catch(e){return""}},[]),q=(0,l.useCallback)((e,a)=>{v(B(e,a))},[B]),A=(0,l.useCallback)(async()=>{M(!0),D(null);try{let e=await fetch("/api/compatibility",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dog:{name:r.trim(),breed:c.trim(),sex:u,neutered:b,birthDate:h?k:null},owner:{name:g.trim(),earthlyBranch:f.trim()}})});if(!e.ok)throw Error("Request failed: ".concat(e.status));let a=await e.json();K(a.compatibility),s(3)}catch(e){D(e instanceof Error?e.message:"알 수 없는 오류가 발생했어요.")}finally{M(!1)}},[r,c,u,b,h,k,g,f]),J=(0,l.useCallback)(e=>{if(e)try{e.scrollIntoView({behavior:"smooth",block:"center"})}catch(e){}},[]),L=(0,l.useCallback)(async()=>{let e="🐶 PawStars 일일 운세·궁합\n이름: ".concat(r,"\n견종: ").concat(c,"\n").concat(h&&k?"생일: ".concat(k,"\n"):"").concat("unknown"!==u?"성별: ".concat("male"===u?"수컷":"암컷").concat(!0===b?" (중성화)":!1===b?" (미중성화)":"","\n"):"").concat(g?"주인: ".concat(g,"\n"):"").concat(f?"주인 12지지: ".concat(f,"\n"):"").concat(F?"\n오늘의 운세: \n".concat(F,"\n"):"").concat(O?"\n🐾 궁합: \n".concat(O):"");try{var a,l;let t=globalThis;if((null==t?void 0:t.Kakao)&&(null==(a=(l=t.Kakao).isInitialized)?void 0:a.call(l)))return void t.Kakao.Share.sendDefault({objectType:"text",text:e,link:{mobileWebUrl:location.href,webUrl:location.href}});if(navigator.share)return void await navigator.share({title:"PawStars 결과",text:e});await navigator.clipboard.writeText(e),alert("결과를 클립보드에 복사했어요.")}catch(a){try{await navigator.clipboard.writeText(e),alert("결과를 클립보드에 복사했어요.")}catch(e){alert("공유에 실패했어요. 다시 시도해 주세요.")}}},[r,c,h,k,u,b,F,g,f,O]);return(0,a.jsxs)("div",{className:"min-h-screen w-full max-w-xl mx-auto px-4 py-5 sm:px-6 sm:py-10",children:[(0,a.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-5 sm:mb-6",children:"PawStars 강아지 사주 · 일일 운세/궁합"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-4",children:[(0,a.jsx)("div",{className:"h-2 w-6 rounded-full "+(1===e?"bg-black dark:bg-white":"bg-black/20 dark:bg-white/20")}),(0,a.jsx)("div",{className:"h-2 w-6 rounded-full "+(2===e?"bg-black dark:bg-white":"bg-black/20 dark:bg-white/20")}),(0,a.jsx)("div",{className:"h-2 w-6 rounded-full "+(3===e?"bg-black dark:bg-white":"bg-black/20 dark:bg-white/20")}),(0,a.jsx)("span",{className:"ml-2",children:1===e?"강아지 정보":2===e?"주인 정보":"궁합 결과"})]}),(0,a.jsxs)("div",{className:"space-y-5 sm:space-y-6",children:[1===e?(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"이름"}),(0,a.jsx)("input",{className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",placeholder:"예: 뭉치",value:r,onChange:e=>n(e.target.value),onFocus:e=>J(e.currentTarget)})]}):null,(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"견종"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",placeholder:"검색 또는 직접 입력 (예: 푸들)",value:i,onChange:e=>{o(e.target.value),d(e.target.value)},onFocus:e=>J(e.currentTarget)}),(0,a.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-1 px-1 snap-x snap-mandatory [scrollbar-width:none] [-ms-overflow-style:none] [&::-webkit-scrollbar]:hidden",children:[I.map(e=>{let l=c===e;return(0,a.jsx)("button",{type:"button",onClick:()=>{d(e),o(e)},className:"px-3 py-2 rounded-full border text-sm transition-colors snap-start shrink-0 "+(l?"bg-black text-white dark:bg-white dark:text-black border-transparent":"border-black/10 dark:border-white/20 hover:bg-black/5 dark:hover:bg-white/10"),children:e},e)}),0===I.length?(0,a.jsx)("span",{className:"text-sm text-black/60 dark:text-white/60",children:"검색 결과가 없어요. 직접 입력해주세요."}):null]})]})]}),1===e?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"성별"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"sex",checked:"male"===u,onChange:()=>m("male")}),"수컷"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"sex",checked:"female"===u,onChange:()=>m("female")}),"암컷"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"sex",checked:"unknown"===u,onChange:()=>m("unknown")}),"모름"]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"neutered",checked:!0===b,onChange:()=>x(!0)}),"중성화"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"neutered",checked:!1===b,onChange:()=>x(!1)}),"미중성화"]}),(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"radio",name:"neutered",checked:null===b,onChange:()=>x(null)}),"모름"]})]})]}):null,1===e?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"생년월일"}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:!h,onChange:e=>p(!e.target.checked)}),"모르면 체크"]})]}),(0,a.jsx)("input",{disabled:!h,type:"date",pattern:"\\d{4}-\\d{2}-\\d{2}",placeholder:"YYYY-MM-DD",className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2 disabled:opacity-50",value:k,onChange:e=>w(e.target.value),onFocus:e=>J(e.currentTarget),min:"1900-01-01",max:"2030-12-31"}),(0,a.jsx)("p",{className:"text-xs text-black/60 dark:text-white/60 mt-1",children:"년-월-일을 모두 선택해 주세요."})]}):null,2===e?(0,a.jsxs)("div",{className:"space-y-5",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"주인 이름"}),(0,a.jsx)("input",{className:"w-full rounded-md border border-black/10 dark:border:white/20 bg-transparent px-3 py-2",placeholder:"예: 홍길동",value:g,onChange:e=>j(e.target.value),onFocus:e=>J(e.currentTarget)})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"주인 생년월일"}),(0,a.jsx)("input",{type:"date",pattern:"\\d{4}-\\d{2}-\\d{2}",placeholder:"YYYY-MM-DD",className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",value:y,onChange:e=>{let a=e.target.value;N(a),q(a,C)},onFocus:e=>J(e.currentTarget),min:"1900-01-01",max:"2030-12-31"}),(0,a.jsx)("p",{className:"text-xs text-black/60 dark:text-white/60 mt-1",children:"년-월-일을 모두 선택해 주세요."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"태어난 시간"}),(0,a.jsx)("input",{type:"time",className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2",value:C,onChange:e=>{let a=e.target.value;S(a),q(y,a)}}),(0,a.jsx)("p",{className:"text-xs text-black/60 dark:text-white/60 mt-1",children:"입력한 생년월일·시간을 바탕으로 12지지를 자동 계산해요. (근사치)"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-1",children:"도출된 12지지"}),(0,a.jsx)("div",{className:"w-full rounded-md border border-black/10 dark:border-white/20 bg-transparent px-3 py-2 text-sm",children:f||"생년월일과 시간을 입력하면 자동으로 표시됩니다."})]})]})]}):null,(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:1===e?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3 disabled:opacity-50",onClick:R,disabled:E||T,children:T?"분석 중...":"일일 운세 뽑기"})}):2===e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3 disabled:opacity-50",onClick:A,disabled:U||T,children:T?"분석 중...":"궁합 보기"}),(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:()=>{s(1),P(null)},children:"이전"})]}):null}),Y?(0,a.jsx)("div",{className:"text-red-500 text-sm",children:Y}):null,F&&1===e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-lg border border-black/10 dark:border-white/20 p-4 whitespace-pre-wrap leading-6",children:F}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3",onClick:()=>s(2),children:"궁합 바로가기"}),(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:L,children:"공유하기"}),(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:()=>{s(1),P(null),K(null),n(""),d(""),o(""),m("unknown"),x(null),p(!0),w(""),j(""),N(""),S(""),v("")},children:"다시하기"})]})]}):null,3===e?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"rounded-lg border border-black/10 dark:border-white/20 p-4 whitespace-pre-wrap leading-6",children:O}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("details",{className:"rounded-lg border border-black/10 dark:border-white/20",children:[(0,a.jsx)("summary",{className:"cursor-pointer p-3 font-medium",children:"일일 운세 다시보기"}),(0,a.jsx)("div",{className:"p-3 pt-0 whitespace-pre-wrap leading-6 text-sm",children:F})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md bg-black text-white dark:bg-white dark:text-black px-4 py-3",onClick:()=>{s(1),P(null),K(null),n(""),d(""),o(""),m("unknown"),x(null),p(!0),w(""),j(""),N(""),S(""),v("")},children:"다시 분석하기"}),(0,a.jsx)("button",{className:"w-full sm:w-auto rounded-md border border-black/10 dark:border-white/20 px-4 py-3",onClick:L,children:"결과 공유하기"})]})]})]}):null]})]})}}]);